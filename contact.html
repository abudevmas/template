<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Hub - Contact</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        // Apply theme immediately to prevent flash
        (function() {
            const STORAGE_KEY = 'theme';
            const prefersDark = window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;
            const savedTheme = localStorage.getItem(STORAGE_KEY);
            const initialTheme = savedTheme || ((prefersDark && prefersDark.matches) ? 'dark' : 'light');

            document.documentElement.setAttribute('data-theme', initialTheme);
        })();
    </script>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <img src="logo.svg" alt="Community Hub Logo">
                <span>Community Hub</span>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="news.html">News</a></li>
                    <li><a href="events.html">Events</a></li>
                    <li><a href="businesses.html">Businesses</a></li>
                    <li><a href="resources.html">Resources</a></li>
                    <li><a href="contact.html" class="active">Contact</a></li>
                </ul>
            </nav>
            <div class="theme-toggle">
                <input type="checkbox" id="theme-switch" class="theme-switch">
                <label for="theme-switch" class="theme-label">
                    <span class="theme-icon">üåô</span>
                </label>
            </div>
        </div>
    </header>

    <main>
        <section class="page-header">
            <div class="container">
                <h1>Contact & Feedback</h1>
                <p>We'd love to hear from you</p>
            </div>
        </section>

        <section class="contact-section">
            <div class="container">
                <div class="contact-wrapper">
                    <!-- Contact Form -->
                    <div class="contact-form-container">
                        <h2>Send Us a Message</h2>
                        <form class="contact-form" id="feedback-form">
                            <div class="form-group">
                                <label for="name">Name <span class="required">*</span></label>
                                <input type="text" id="name" name="name" required placeholder="Your full name">
                                <span class="error-message">Please enter your name</span>
                            </div>

                            <div class="form-group">
                                <label for="email">Email <span class="required">*</span></label>
                                <input type="email" id="email" name="email" required placeholder="your.email@example.com">
                                <span class="error-message">Please enter a valid email address</span>
                            </div>

                            <div class="form-group">
                                <label for="phone">Phone</label>
                                <input type="tel" id="phone" name="phone" placeholder="(555) 123-4567">
                            </div>

                            <div class="form-group">
                                <label for="subject">Subject <span class="required">*</span></label>
                                <select id="subject" name="subject" required>
                                    <option value="">Select a subject</option>
                                    <option value="general">General Inquiry</option>
                                    <option value="feedback">Feedback</option>
                                    <option value="event">Event Suggestion</option>
                                    <option value="business">Business Listing</option>
                                    <option value="other">Other</option>
                                </select>
                                <span class="error-message">Please select a subject</span>
                            </div>

                            <div class="form-group">
                                <label for="message">Message <span class="required">*</span></label>
                                <textarea id="message" name="message" rows="6" required placeholder="Your message here..."></textarea>
                                <span class="error-message">Please enter your message</span>
                            </div>

                            <button type="submit" class="btn btn-primary">Send Message</button>
                        </form>
                    </div>

                    <!-- Contact Information -->
                    <div class="contact-info-container">
                        <h2>Get in Touch</h2>
                        <div class="contact-info">
                            <div class="info-item">
                                <div class="info-icon">üìç</div>
                                <div class="info-content">
                                    <h3>Address</h3>
                                    <p>Community Hub Office<br>
                                    100 Community Center Plaza<br>
                                    Suite 200<br>
                                    City, State 12345</p>
                                </div>
                            </div>

                            <div class="info-item">
                                <div class="info-icon">üìû</div>
                                <div class="info-content">
                                    <h3>Phone</h3>
                                    <p>Main: (555) 100-2000<br>
                                    Fax: (555) 100-2001</p>
                                </div>
                            </div>

                            <div class="info-item">
                                <div class="info-icon">‚úâÔ∏è</div>
                                <div class="info-content">
                                    <h3>Email</h3>
                                    <p>info@communityhub.org<br>
                                    feedback@communityhub.org</p>
                                </div>
                            </div>

                            <div class="info-item">
                                <div class="info-icon">üïí</div>
                                <div class="info-content">
                                    <h3>Office Hours</h3>
                                    <p>Monday - Friday: 9:00 AM - 5:00 PM<br>
                                    Saturday: 10:00 AM - 2:00 PM<br>
                                    Sunday: Closed</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Google Maps -->
                <div class="map-container">
                    <h2>Find Us on the Map</h2>
                    <div class="map-wrapper">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.1841306028453!2d-73.98811768459418!3d40.75889597932732!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c25855c6480299%3A0x55194ec5a1ae072e!2sTimes%20Square!5e0!3m2!1sen!2sus!4v1234567890123!5m2!1sen!2sus"
                            width="100%" 
                            height="450" 
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                    <p class="map-note">Note: This is a placeholder map. Update with your actual community location.</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Community Hub. All rights reserved.</p>
            <p>Building stronger communities, one connection at a time.</p>
        </div>
    </footer>
    <script>
        // Theme toggle functionality - Initialize immediately
        (function() {
            const html = document.documentElement;
            const STORAGE_KEY = 'theme';
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)');
            const savedTheme = localStorage.getItem(STORAGE_KEY);

            const getSystemTheme = () => (prefersDark.matches ? 'dark' : 'light');

            const applyTheme = (theme, persist = true) => {
                html.setAttribute('data-theme', theme);
                if (persist) {
                    localStorage.setItem(STORAGE_KEY, theme);
                }
            };

            applyTheme(savedTheme || getSystemTheme(), false);

            document.addEventListener('DOMContentLoaded', function() {
                const themeSwitch = document.getElementById('theme-switch');

                if (!themeSwitch) {
                    return;
                }

                themeSwitch.checked = html.getAttribute('data-theme') === 'dark';

                themeSwitch.addEventListener('change', function() {
                    applyTheme(this.checked ? 'dark' : 'light');
                });

                if (!savedTheme) {
                    const handleSystemChange = (event) => {
                        const systemTheme = event.matches ? 'dark' : 'light';
                        applyTheme(systemTheme, false);
                        themeSwitch.checked = systemTheme === 'dark';
                    };

                    if (typeof prefersDark.addEventListener === 'function') {
                        prefersDark.addEventListener('change', handleSystemChange);
                    } else if (typeof prefersDark.addListener === 'function') {
                        prefersDark.addListener(handleSystemChange);
                    }
                }
            });
        })();
    </script>
</body>
</html>

